<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üå≤ Wood Prices - LT2 Value Sheets</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      background: #111;
      color: #f0f0f0;
      font-family: Arial, sans-serif;
      margin: 0;
      transition: background 0.3s, color 0.3s;
    }

    /* Light mode */
    body.light-mode {
      background: #f5f5f5;
      color: #222;
    }
    body.light-mode .navbar {
      background: #e0e0e0;
      border-bottom: 1px solid #ccc;
    }
    body.light-mode .navbar button {
      color: #222;
    }
    body.light-mode .navbar button:hover,
    body.light-mode .navbar button.active {
      background: #ddd;
    }
    body.light-mode table {
      background: #fff;
    }
    body.light-mode th {
      background: #eee;
      color: #0f9d58;
    }
    body.light-mode tr:nth-child(even) {
      background: #f9f9f9;
    }
    body.light-mode tr:hover {
      background: #f0f0f0;
    }

    .navbar {
      background: #1a1a1a;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #333;
    }

    .navbar-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .navbar button {
      background: none;
      border: none;
      color: #f0f0f0;
      font-size: 16px;
      cursor: pointer;
      padding: 8px 15px;
      border-radius: 5px;
      transition: background 0.2s;
    }

    .navbar button:hover,
    .navbar button.active {
      background: #333;
    }

    .container {
      padding: 30px;
      max-width: 1000px;
      margin: auto;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 5px;
    }

    .subtitle {
      color: #aaa;
      margin-bottom: 20px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: #1a1a1a;
      border-radius: 10px;
      overflow: hidden;
    }

    th, td {
      padding: 12px 15px;
      text-align: left;
    }

    th {
      background: #222;
      color: #0f9d58;
      font-weight: bold;
    }

    tr:nth-child(even) {
      background: #181818;
    }

    tr:hover {
      background: #2a2a2a;
    }

    td {
      border-bottom: 1px solid #333;
      vertical-align: middle;
    }

    /* Style for images */
    td img {
      max-width: 80px;
      max-height: 80px;
      border-radius: 8px;
      display: block;
    }

    /* Discord button */
    .discord-btn {
      background: #5865f2;
      color: white !important;
      font-weight: bold;
    }
    .discord-btn:hover {
      background: #4752c4;
    }
  </style>
</head>
<body>
  <header class="navbar">
    <div class="navbar-left">
      <a href="home.html"><button>Home</button></a>
      <a href="index.html"><button>Dashboard</button></a>
      <a href="about.html"><button>About</button></a>
      <a href="status.html"><button>Status</button></a>
      <a href="axe.html"><button class="active">Axe</button></a>
    </div>
    <div class="navbar-right">
      <a href="https://discord.gg/lt2" target="_blank">
        <button class="discord-btn">Join Discord</button>
      </a>
      <button id="theme-toggle">‚òÄÔ∏è</button>
    </div>
  </header>
  <main class="container">
    <h1>ü™ì Axe prices</h1>
    <p class="subtitle">Live data from Google Sheets</p>
    <table id="data-table">
      <thead></thead>
      <tbody></tbody>
    </table>
  </main>
  <script>
    const toggleBtn = document.getElementById("theme-toggle");
    toggleBtn.addEventListener("click", () => {
      document.body.classList.toggle("light-mode");
      toggleBtn.textContent = document.body.classList.contains("light-mode") ? "üåô" : "‚òÄÔ∏è";
    });
    const SHEET_ID = "1FkNdn7Qbgb6aLDpKYHZszh4phhzQP1WV1ct4_00GPN8";
    const SHEET_URL = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json`;
    fetch(SHEET_URL)
      .then(res => res.text())
      .then(data => {
        const json = JSON.parse(data.substr(47).slice(0, -2));
        const table = document.getElementById("data-table");
        const thead = table.querySelector("thead");
        const tbody = table.querySelector("tbody");
        let headerHTML = "<tr>";
        json.table.cols.forEach(col => {
          if (col.label) {
            headerHTML += `<th>${col.label}</th>`;
          }
        });
        headerHTML += "</tr>";
        thead.innerHTML = headerHTML;
        let bodyHTML = "";
        json.table.rows.forEach(row => {
          bodyHTML += "<tr>";
          row.c.forEach(cell => {
            let value = cell ? (cell.f || cell.v) : "";
            if (typeof value === "string" && value.startsWith('=IMAGE("')) {
              const urlMatch = value.match(/=IMAGE\("([^"]+)"/);
              if (urlMatch) {
                bodyHTML += `<td><img src="${urlMatch[1]}" alt="image"></td>`;
              } else {
                bodyHTML += `<td></td>`;
              }
            }
            else if (typeof value === "string" && value.match(/\.(jpeg|jpg|gif|png)$/i)) {
              bodyHTML += `<td><img src="${value}" alt="image"></td>`;
            }
            else {
              bodyHTML += `<td>${value === "null" ? "" : value}</td>`;
            }
          });
          bodyHTML += "</tr>";
        });
        tbody.innerHTML = bodyHTML;
      });
  </script>
</body>
</html>
